
/* === Responsive overrides (tablet & mobile) === */

/* Normalize hero width to prevent sideways scrollbars on mobile */
.page-illustration .hero {
  width: 100% !important;
}

/* Account for fixed navbar so content isn't hidden underneath */
:root { --navbar-h: 72px; }
.page-illustration { padding-top: var(--navbar-h); }

/* Global image safety */
img, svg, video, canvas {
  max-width: 100%;
  height: auto;
}

/* Tablet (≤ 1024px) */
@media (max-width: 1024px) {
  /* Index menu spacing */
  .index-menu { margin-top: 1rem; }

  /* Itara grid stacks */
  .itara-grid {
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
  }

  .itara-left-col { transform: none; padding-right: 0; }

  .itara-text {
    margin: 0;
    transform: none;
    text-align: center;
    max-width: 720px;
  }

  .itara-text h2, .itara-text h3, .itara-text p { text-align: center; }

  .itara-carousel {
    max-width: 320px;
    min-height: 320px;
  }

  .itara-img { max-height: 300px; }
  .itara-img.active { transform: translateX(-50%) scale(1.3); }

  .itara-extras,
  .drafts-section {
    transform: none;
    margin-top: 1rem;
  }

  /* Altair illustration block */
  .altair-illustration-container {
    gap: 32px;
    padding: 40px 20px;
  }

  .altair-comics img {
    width: 100% !important;
  }

  .altair-illustration-text {
    margin-left: 0;
    max-width: 640px;
    text-align: center;
  }
}

/* Large phones / small tablets (≤ 768px) */
@media (max-width: 768px) {
  .navbar { padding: 12px 16px; }

  .hero-text h1 { font-size: 2rem; }

  .altair-section { min-height: auto; padding: 64px 16px; }
  .altair-overlay { position: relative; top: auto; left: auto; transform: none; padding: 0; }

  /* Kill aggressive transforms that cause overflow */
  .itara-text,
  .itara-extras,
  .drafts-section,
  .others-section {
    transform: none !important;
    margin-left: 0 !important;
  }

  .itara-carousel { max-width: 280px; min-height: 280px; }
  .itara-img { max-height: 240px; }
  .itara-img.active { transform: translateX(-50%) scale(1.15); }

  /* 2037 section text */
  .char2037-text { margin: 0 !important; max-width: 720px; }

  .altair-illustration-text h3 { text-align: center; }
}

/* Phones (≤ 600px) */
@media (max-width: 600px) {
  .hero-text h1 { font-size: 1.8rem; }
  .altair-description { font-size: 0.95rem; }
  .menu-item { font-size: 0.68rem; }
  .submenu .menu-item.subsection { font-size: 0.68rem; }
  .itara-img { max-height: 220px; }
  .itara-carousel { max-width: 240px; min-height: 240px; }
}

/* Ultra small (≤ 380px) */
@media (max-width: 380px) {
  .hero-text h1 { font-size: 1.6rem; }
  .altair-description { font-size: 0.9rem; }
}


/* === iPad Landscape (fix puntual Itara) === */
@media (min-width: 900px) and (max-width: 1180px) and (orientation: landscape) {
  /* Seguridad general */
  html, body { overflow-x: hidden; }
  img, svg, canvas, video { max-width: 100%; height: auto; }

  /* Cambiamos la fila flex por una grid estable 3 columnas */
  #altair-character .itara-grid{
    display: grid !important;
    grid-template-columns: minmax(260px,1fr) minmax(280px,340px) minmax(260px,1fr);
    gap: 20px;
    align-items: start;
    justify-items: center;
    width: 100%;
    max-width: 1100px;
    margin-inline: auto;
  }

  /* Apaga desplazamientos que empujan fuera */
  #altair-character .itara-left-col,
  #altair-character .itara-text,
  #altair-character .itara-extras,
  #altair-character .drafts-section,
  #altair-character .others-section{
    transform: none !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Texto izquierda (Itara) centrado en su columna y sin recortes */
  #altair-character .itara-text{
    width: 100% !important;
    max-width: 520px !important;
    text-align: left !important;
  }
  #altair-character .itara-text h3,
  #altair-character .itara-text h2,
  #altair-character .itara-text p{ text-align:left !important; }

  /* Carrusel: tamaño contenido y SIN scale grande */
  #altair-character .itara-carousel{
    width: 100% !important;
    max-width: 320px !important;
    min-height: 320px !important;
    margin: 0 !important;
  }
  #altair-character .itara-img{ max-height: 260px !important; opacity: 1; }
  #altair-character .itara-img.active{ transform: translateX(-50%) scale(1) !important; }
  #altair-character .itara-img.left { transform: translateX(-80%)  scale(1) !important; }
  #altair-character .itara-img.right{ transform: translateX(-20%)  scale(1) !important; }

  /* Columna derecha (drafts/others) ajustada a columna sin desbordar */
  #altair-character .itara-extras{ width: 100% !important; max-width: 520px !important; }
  #altair-character .drafts-section img,
  #altair-character .others-section img{
    width: 100% !important; max-width: 520px !important; height:auto !important; object-fit:contain !important;
  }
}

@media (min-width: 900px) and (max-width: 1180px) and (orientation: landscape){
  #altair-character .itara-grid{
    display:grid !important;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto;
    gap:18px;
    justify-items:center;
  }
  #altair-character .itara-column{ min-width:auto !important; width:100% !important; max-width:680px !important; }
}

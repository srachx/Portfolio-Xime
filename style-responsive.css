
/* === Responsive overrides (tablet & mobile) === */

/* Normalize hero width to prevent sideways scrollbars on mobile */
.page-illustration .hero {
  width: 100% !important;
}

/* Account for fixed navbar so content isn't hidden underneath */
:root { --navbar-h: 72px; }
.page-illustration { padding-top: var(--navbar-h); }

/* Global image safety */
img, svg, video, canvas {
  max-width: 100%;
  height: auto;
}

/* Tablet (≤ 1024px) */
@media (max-width: 1024px) {
  /* Index menu spacing */
  .index-menu { margin-top: 1rem; }

  /* Itara grid stacks */
  .itara-grid {
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
  }

  .itara-left-col { transform: none; padding-right: 0; }

  .itara-text {
    margin: 0;
    transform: none;
    text-align: center;
    max-width: 720px;
  }

  .itara-text h2, .itara-text h3, .itara-text p { text-align: center; }

  .itara-carousel {
    max-width: 320px;
    min-height: 320px;
  }

  .itara-img { max-height: 300px; }
  .itara-img.active { transform: translateX(-50%) scale(1.3); }

  .itara-extras,
  .drafts-section {
    transform: none;
    margin-top: 1rem;
  }

  /* Altair illustration block */
  .altair-illustration-container {
    gap: 32px;
    padding: 40px 20px;
  }

  .altair-comics img {
    width: 100% !important;
  }

  .altair-illustration-text {
    margin-left: 0;
    max-width: 640px;
    text-align: center;
  }
}

/* Large phones / small tablets (≤ 768px) */
@media (max-width: 768px) {
  .navbar { padding: 12px 16px; }

  .hero-text h1 { font-size: 2rem; }

  .altair-section { min-height: auto; padding: 64px 16px; }
  .altair-overlay { position: relative; top: auto; left: auto; transform: none; padding: 0; }

  /* Kill aggressive transforms that cause overflow */
  .itara-text,
  .itara-extras,
  .drafts-section,
  .others-section {
    transform: none !important;
    margin-left: 0 !important;
  }

  .itara-carousel { max-width: 280px; min-height: 280px; }
  .itara-img { max-height: 240px; }
  .itara-img.active { transform: translateX(-50%) scale(1.15); }

  /* 2037 section text */
  .char2037-text { margin: 0 !important; max-width: 720px; }

  .altair-illustration-text h3 { text-align: center; }
}

/* Phones (≤ 600px) */
@media (max-width: 600px) {
  .hero-text h1 { font-size: 1.8rem; }
  .altair-description { font-size: 0.95rem; }
  .menu-item { font-size: 0.68rem; }
  .submenu .menu-item.subsection { font-size: 0.68rem; }
  .itara-img { max-height: 220px; }
  .itara-carousel { max-width: 240px; min-height: 240px; }
}

/* Ultra small (≤ 380px) */
@media (max-width: 380px) {
  .hero-text h1 { font-size: 1.6rem; }
  .altair-description { font-size: 0.9rem; }
}


/* === iPad Landscape: hard fix (1024×768 aprox.) === */
@media (min-width: 900px) and (max-width: 1180px) and (orientation: landscape) {
  /* Seguridad global anti-overflow */
  html, body { max-width: 100%; overflow-x: hidden !important; }
  * { box-sizing: border-box; }
  img, svg, video, canvas { max-width: 100% !important; height: auto; }

  /* Hero: evitar 100vw que genera scroll lateral en iPad */
  .hero { width: 100% !important; min-height: 88vh; }

  /* Menú índice: compacto y sin empujar layout */
  .index-menu {
    position: fixed;
    top: 6rem;
    left: 1rem;
    right: auto;
    gap: .4rem;
    max-width: 40vw;
  }
  .menu-item { font-size: .8rem; padding: .35rem .9rem; }
  .submenu .menu-item.subsection { font-size: .75rem; padding: .3rem .7rem; }

  /* ALTair — Character: apaga transforms y márgenes largos */
  .itara-left-col,
  .itara-text,
  .itara-extras,
  .drafts-section {
    transform: none !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Si aún ves desborde, descomenta la siguiente línea para apilar todo:
  .itara-grid { flex-direction: column !important; align-items: center !important; gap: 1rem !important; }
  */

  .itara-text {
    text-align: left;
    max-width: 520px;
    margin-top: 1.5rem !important;
  }

  /* Carrusel Itara: clamp de escala */
  .itara-carousel { max-width: 320px; min-height: 320px; margin: 0 !important; }
  .itara-img { max-height: 260px !important; opacity: 1; }
  .itara-img.active { transform: translateX(-50%) scale(1) !important; }   /* <- clave */
  .itara-img.left  { transform: translateX(-80%)  scale(1) !important; }
  .itara-img.right { transform: translateX(-20%)  scale(1) !important; }

  /* ALTair — ROLE (cómics + texto) */
  .altair-illustration-container { gap: 36px; padding: 36px 24px; }
  .altair-comics img { width: 100% !important; }   /* quita el 150% */
  .altair-illustration-text { margin: 0 !important; max-width: 520px; }

  /* 2037 — Character */
  .char2037-text,
  .char2037-column.char2037-right { transform: none !important; margin: 0 !important; }
  .char2037-text { max-width: 520px; }

  .char2037-carousel { max-width: 320px; min-height: 320px; margin: 0 !important; }
  .char2037-img { max-height: 260px !important; }
  .char2037-img.active { transform: translateX(-50%) scale(1) !important; } /* <- clave */
  .char2037-img.left  { transform: translateX(-80%)  scale(1) !important; }
  .char2037-img.right { transform: translateX(-20%)  scale(1) !important; }
  .char2037-others-img { max-height: 300px !important; }

  /* 2037 — Illustration mockup: sin empujar a la derecha */
  .project2037-frame img.mockup-single {
    height: 460px !important;
    margin-right: 0 !important;
  }
  .illustration-2037-text { margin: 0 !important; transform: none !important; max-width: 520px; }
}
